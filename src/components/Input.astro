---
import { cn } from "@/utils/cn";

interface Props {
    type?: "text" | "email" | "number" | "password" | "tel" | "url";
    name: string;
    value?: string;
    error?: string;
    label?: string;
    placeholder?: string;
    description?: string;
    required?: boolean;
    readonly?: boolean;
}

const {
    type = "text",
    name,
    value,
    error,
    label,
    placeholder,
    description,
    required,
    readonly,
} = Astro.props;
---

<div class="space-y-1">
    {
        label && (
            <label class="block font-bold" for={`field-${name}`}>
                {label}
                {required ? " *" : ""}
            </label>
        )
    }
    <input
        id={`field-${name}`}
        type={type}
        name={name}
        value={value}
        required={required}
        placeholder={placeholder}
        readonly={readonly}
        class={cn(
            "bg-clr-background placeholder:text-clr-text-soft leading-none w-full rounded px-2 py-2 border",
            error ? "border-clr-error" : "border-clr-border"
        )}
    />
    {error && <p class="text-sm text-clr-error">{error}</p>}
    {description && <p class="text-sm text-clr-text-soft">{description}</p>}
</div>
